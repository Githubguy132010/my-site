class Terminal{constructor(){this.input=document.getElementById("terminal-input"),this.output=document.getElementById("terminal-output"),this.cursor=document.getElementById("cursor"),this.history=[],this.historyIndex=-1,this.currentTheme="dark",this.welcomeMessages=["Welcome to Thomas Brugman's digital workspace...","Linux enthusiast & hobby developer at your service...","Type 'help' to explore my projects and skills...","Ready to dive into the world of open source..."],this.currentWelcomeIndex=0,this.welcomeInterval=null,this.hasUserTyped=!1,this.blogSelectionMode=!1,this.selectedPostIndex=0,this.availablePosts=[],this.init(),this.startWelcomeRotation()}init(){this.input.addEventListener("keydown",e=>this.handleKeyDown(e)),this.input.addEventListener("input",()=>this.updateCursor()),this.input.focus(),document.addEventListener("click",()=>this.input.focus())}startWelcomeRotation(){const e=typeof siteData!="undefined"&&siteData.content.welcomeMessages?siteData.content.welcomeMessages:this.welcomeMessages;this.welcomeInterval=setInterval(()=>{this.hasUserTyped||(this.currentWelcomeIndex=(this.currentWelcomeIndex+1)%e.length,this.typeText("welcome-message",e[this.currentWelcomeIndex]))},5e3)}hideWelcomeMessages(){this.welcomeInterval&&(clearInterval(this.welcomeInterval),this.welcomeInterval=null);const e=document.getElementById("welcome-message");e&&(e.style.opacity="0",setTimeout(()=>{e.style.display="none"},300))}typeText(e,t){const n=document.getElementById(e);if(!n)return;n.textContent="";let s=0;const o=setInterval(()=>{s<t.length?(n.textContent+=t.charAt(s),s++,n.style.opacity="0.8",setTimeout(()=>{n.style.opacity="1"},50)):clearInterval(o)},30)}handleKeyDown(e){if(this.hasUserTyped||(this.hideWelcomeMessages(),this.hasUserTyped=!0),this.blogSelectionMode){switch(e.key){case"ArrowUp":e.preventDefault(),this.navigateBlogSelection(-1);break;case"ArrowDown":e.preventDefault(),this.navigateBlogSelection(1);break;case"Enter":e.preventDefault(),this.selectBlogPost();break;case"Escape":e.preventDefault(),this.exitBlogSelection();break}return}switch(e.key){case"Enter":e.preventDefault(),this.executeCommand();break;case"ArrowUp":e.preventDefault(),this.navigateHistory(-1);break;case"ArrowDown":e.preventDefault(),this.navigateHistory(1);break;case"Tab":e.preventDefault(),this.autocomplete();break}}updateCursor(){const e=this.getTextWidth("thomas@website:~$ ",this.input),t=this.getTextWidth(this.input.value,this.input);this.cursor.style.left=e+t+"px",this.cursor.style.animation="none",setTimeout(()=>{this.cursor.style.animation="blink 1s infinite"},10)}getTextWidth(e,t){const s=document.createElement("canvas"),n=s.getContext("2d"),o=window.getComputedStyle(t);return n.font=o.font,n.measureText(e).width}executeCommand(){const e=this.input.value.trim().toLowerCase(),t=this.input.value.trim();e&&(this.addToHistory(t),this.addOutput(`thomas@website:~$ ${t}`,"command"),this.processCommand(e)),this.input.value="",this.historyIndex=-1}addToHistory(e){this.history.unshift(e),this.history.length>50&&this.history.pop()}navigateHistory(e){e===-1&&this.historyIndex<this.history.length-1?(this.historyIndex++,this.input.value=this.history[this.historyIndex]):e===1&&this.historyIndex>0?(this.historyIndex--,this.input.value=this.history[this.historyIndex]):e===1&&this.historyIndex===0&&(this.historyIndex=-1,this.input.value="")}autocomplete(){const t=this.input.value.toLowerCase(),n=["help","about","projects","skills","contact","blog","read","clear","theme","reboot","shutdown","whoami","pwd","ls","sudo","matrix"],e=n.filter(e=>e.startsWith(t));e.length===1?(this.input.value=e[0],this.updateCursor()):e.length>1&&this.addOutput(`Available commands: ${e.join(", ")}`,"info")}processCommand(e){if(e.startsWith("read ")){const t=e.split(" ");if(t.length>=2){this.readPost(t[1]);return}}switch(e){case"help":this.showHelp();break;case"about":this.showAbout();break;case"projects":this.showProjects();break;case"skills":this.showSkills();break;case"contact":this.showContact();break;case"blog":case"posts":this.showBlog();break;case"clear":this.clearTerminal();break;case"theme":this.toggleTheme();break;case"reboot":this.reboot();break;case"shutdown":this.shutdown();break;case"easter":case"matrix":this.matrixEffect();break;case"sudo":this.sudoCommand();break;case"whoami":this.whoamiCommand();break;case"ls":this.lsCommand();break;case"pwd":this.pwdCommand();break;default:this.addOutput(`Command not found: ${e}. Type 'help' for available commands.`,"error"),this.suggestCommand(e)}this.scrollToBottom()}showHelp(){this.addOutput("Available commands:","info"),this.addOutput(""),this.addOutput("  help      - Show this help message","success"),this.addOutput("  about     - Learn more about me","success"),this.addOutput("  projects  - View my projects","success"),this.addOutput("  skills    - List my technical skills","success"),this.addOutput("  contact   - Get my contact information","success"),this.addOutput("  blog      - Read my latest blog posts (interactive)","success"),this.addOutput("  read <N>  - Read blog post number N (legacy)","success"),this.addOutput("  clear     - Clear the terminal screen","success"),this.addOutput("  theme     - Toggle light/dark theme","success"),this.addOutput("  reboot    - Reload the website","success"),this.addOutput("  shutdown  - Close the terminal","success"),this.addOutput(""),this.addOutput("Unix-like commands:","info"),this.addOutput("  whoami    - Display current user info","success"),this.addOutput("  pwd       - Show current directory","success"),this.addOutput("  ls        - List directory contents","success"),this.addOutput(""),this.addOutput("Easter eggs:","info"),this.addOutput("  matrix    - Enter the Matrix","success"),this.addOutput("  sudo      - Try to gain root access","success"),this.addOutput(""),this.addOutput("Tip: Use Tab for autocomplete and arrow keys for command history","info")}showAbout(){this.addOutput("About Thomas Brugman","info"),this.addOutput(""),this.addOutput("Hi, I'm Thomas ðŸ‘‹","success"),this.addOutput(""),this.addOutput("A Linux enthusiast and hobby developer from the Netherlands"),this.addOutput("with a passion for automation and open source. I have several"),this.addOutput("years of experience tinkering with Linux systems, configuring"),this.addOutput("servers, and developing small-scale applications."),this.addOutput(""),this.addOutput("I specialize in Linux system configuration, shell scripting,"),this.addOutput("infrastructure as code, and GitHub Actions automation."),this.addOutput(""),this.addOutput('Type "projects" to see my work or "contact" to get in touch!')}showProjects(){if(this.addOutput("My Projects","info"),this.addOutput(""),typeof siteData!="undefined"&&siteData.content.projects){const e=siteData.content.projects.filter(e=>e.featured),t=siteData.content.projects.filter(e=>!e.featured);e.length>0&&(this.addOutput("Featured Projects:","success"),e.forEach((e,t)=>{this.addOutput(`${t+1}. ${e.name}`,"success"),this.addOutput(`   ${e.description}`),this.addOutput(`   Tech: ${e.technologies.join(", ")}`,"info"),this.addOutput(`   Status: ${e.status}`,"info"),this.addOutput(`   URL: ${e.url}`,"info"),this.addOutput("")})),t.length>0&&(this.addOutput("Other Projects:","success"),t.forEach((e,t)=>{this.addOutput(`${t+1}. ${e.name}`,"success"),this.addOutput(`   ${e.description}`),this.addOutput(`   URL: ${e.url}`,"info"),this.addOutput("")}))}this.addOutput("Check out more projects on my GitHub:","info"),this.addOutput("https://github.com/Githubguy132010","info")}showSkills(){if(this.addOutput("Technical Skills","info"),this.addOutput(""),typeof siteData!="undefined"&&siteData.content.skills){const e={};siteData.content.skills.forEach(t=>{e[t.category]||(e[t.category]=[]),e[t.category].push(t)}),Object.keys(e).forEach(t=>{this.addOutput(`${t}:`,"success"),e[t].forEach(e=>{this.addOutput(`  â€¢ ${e.name} (${e.level})`,"success"),this.addOutput(`    ${e.description}`)}),this.addOutput("")})}else{const e=["Linux System Configuration","Shell Scripting (Bash)","Infrastructure as Code (YAML)","GitHub Actions Automation","WSL Development"];e.forEach((e)=>{this.addOutput(`â€¢ ${e}`,"success")})}this.addOutput("Always learning and exploring new technologies!","info")}showContact(){this.addOutput("Contact Information","info"),this.addOutput(""),this.addOutput("ðŸ“§ Email: thomas.brugman.teb3@gmail.com","success"),this.addOutput("ðŸ™ GitHub: https://github.com/Githubguy132010","success"),this.addOutput(""),this.addOutput("Feel free to reach out for:","info"),this.addOutput("â€¢ Linux configurations","success"),this.addOutput("â€¢ Open source collaboration","success"),this.addOutput("â€¢ Automation projects","success"),this.addOutput("â€¢ Development tools","success")}renderBlogList(){const t=document.getElementById("blog-list");t&&t.remove();const e=document.createElement("div");e.id="blog-list",this.availablePosts.forEach((t,n)=>{const s=n===this.selectedPostIndex,o=document.createElement("div");o.className=`terminal-line ${s?"selected-post":""}`,o.innerHTML=`<span class="${s?"success":""}">${s?"â–º ":"  "}${n+1}. ${t.title}</span>`,e.appendChild(o);const i=document.createElement("div");i.className="terminal-line",i.innerHTML=`<span class="info">    Date: ${t.date}</span>`,e.appendChild(i);const a=document.createElement("div");a.className="terminal-line",a.textContent=`    ${t.summary}`,e.appendChild(a);const r=document.createElement("div");r.className="terminal-line",e.appendChild(r)}),this.output.appendChild(e),this.scrollToBottom()}navigateBlogSelection(e){e===-1&&this.selectedPostIndex>0?this.selectedPostIndex--:e===1&&this.selectedPostIndex<this.availablePosts.length-1&&this.selectedPostIndex++,this.renderBlogList()}selectBlogPost(){const e=this.availablePosts[this.selectedPostIndex];this.addOutput(`Opening "${e.title}"...`,"info"),setTimeout(()=>{this.addOutput("Navigating to blog post...","success"),setTimeout(()=>{window.location.href=e.url},800)},500),this.exitBlogSelection()}exitBlogSelection(){this.blogSelectionMode=!1,this.selectedPostIndex=0,this.availablePosts=[],this.input.style.opacity="1",this.input.readOnly=!1,this.input.value="",this.input.focus();const e=document.getElementById("blog-list");e&&e.remove()}readPost(e){const t=parseInt(e)-1;if(typeof siteData!="undefined"&&siteData.content.posts&&siteData.content.posts.length>0)if(t>=0&&t<siteData.content.posts.length){const e=siteData.content.posts[t];this.addOutput(`Opening "${e.title}"...`,"info"),setTimeout(()=>{this.addOutput("Navigating to blog post...","success"),setTimeout(()=>{window.location.href=e.url},800)},500)}else this.addOutput(`Post ${e} not found. Use "blog" to see available posts.`,"error");else this.addOutput("No blog posts available.","error")}showBlog(){typeof siteData!="undefined"&&siteData.content.posts&&siteData.content.posts.length>0?(this.availablePosts=siteData.content.posts.slice(0,10),this.selectedPostIndex=0,this.blogSelectionMode=!0,this.addOutput("Latest Blog Posts","info"),this.addOutput(""),this.addOutput("Use â†‘/â†“ arrow keys to navigate, Enter to select, Esc to cancel","info"),this.addOutput(""),this.renderBlogList(),this.input.style.opacity="0.3",this.input.readOnly=!0,this.input.value="[Blog Selection Mode]",this.input.focus()):(this.addOutput("No blog posts available yet.","info"),this.addOutput("Check back soon for updates!"))}clearTerminal(){this.output.innerHTML=`
            <div class="terminal-line">
                <span class="info">Terminal cleared</span>
            </div>
        `}toggleTheme(){const e=document.body;this.currentTheme==="dark"?(e.style.background="#f8f9fa",e.style.color="#212529",this.currentTheme="light",this.addOutput("Switched to light theme","success")):(e.style.background="#000",e.style.color="#00ff00",this.currentTheme="dark",this.addOutput("Switched to dark theme","success"))}reboot(){this.addOutput("Rebooting system...","info"),setTimeout(()=>{window.location.reload()},1500)}shutdown(){this.addOutput("System shutting down...","info"),this.addOutput("Thank you for visiting!","success"),setTimeout(()=>{document.body.innerHTML='<div style="display:flex;justify-content:center;align-items:center;height:100vh;font-family:monospace;font-size:24px;">System halted.</div>'},2e3)}matrixEffect(){this.addOutput("Initiating Matrix mode...","success");const e="abcdefghijklmnopqrstuvwxyz0123456789@#$%^&*()";let t="";for(let n=0;n<20;n++){let s="";for(let t=0;t<50;t++)s+=e.charAt(Math.floor(Math.random()*e.length));t+=s+`
`}this.addOutput(t,"success"),this.addOutput("Welcome to the Matrix, Neo...","success")}sudoCommand(){this.addOutput("thomas is not in the sudoers file. This incident will be reported.","error"),setTimeout(()=>{this.addOutput("Just kidding! ðŸ˜„","success"),this.addOutput("With great power comes great responsibility!","info")},2e3)}whoamiCommand(){this.addOutput("thomas","success"),this.addOutput("Full name: Thomas Brugman","info"),this.addOutput("Role: Linux Enthusiast & Hobby Developer","info"),this.addOutput("Location: Netherlands","info"),this.addOutput("Superpower: Making computers do exactly what I want (most of the time)","success")}lsCommand(){this.addOutput("total 42","info"),this.addOutput("drwxr-xr-x  about/","success"),this.addOutput("drwxr-xr-x  projects/","success"),this.addOutput("drwxr-xr-x  blog/","success"),this.addOutput("drwxr-xr-x  skills/","success"),this.addOutput("-rw-r--r--  contact.txt","success"),this.addOutput("-rw-r--r--  .secrets","error"),this.addOutput(""),this.addOutput('Tip: Use specific commands like "about", "projects" to explore these directories!',"info")}pwdCommand(){this.addOutput("/home/thomas/website","success")}suggestCommand(e){const n=["help","about","projects","skills","contact","blog","read","clear","theme","reboot","shutdown","whoami","pwd","ls","sudo","matrix"],t=n.filter(t=>{const n=this.levenshteinDistance(e,t);return n<=2});t.length>0&&this.addOutput(`Did you mean: ${t.join(", ")}?`,"info")}levenshteinDistance(e,t){const n=[];for(let e=0;e<=t.length;e++)n[e]=[e];for(let t=0;t<=e.length;t++)n[0][t]=t;for(let s=1;s<=t.length;s++)for(let o=1;o<=e.length;o++)t.charAt(s-1)===e.charAt(o-1)?n[s][o]=n[s-1][o-1]:n[s][o]=Math.min(n[s-1][o-1]+1,n[s][o-1]+1,n[s-1][o]+1);return n[t.length][e.length]}addOutput(e,t=""){const n=document.createElement("div");n.className=`terminal-line ${t}`,n.textContent=e,n.style.opacity="0",n.style.transform="translateY(10px)",this.output.appendChild(n),setTimeout(()=>{n.style.transition="opacity 0.3s ease, transform 0.3s ease",n.style.opacity="1",n.style.transform="translateY(0)"},10)}scrollToBottom(){this.output.scrollTop=this.output.scrollHeight}}function handleShutdown(){window.terminal&&window.terminal.shutdown()}function minimizeTerminal(){const e=document.querySelector(".terminal-container");e.style.transform="scale(0.8)",e.style.opacity="0.5",setTimeout(()=>{e.style.transform="scale(1)",e.style.opacity="1"},1e3)}function maximizeTerminal(){const e=document.querySelector(".terminal-container");e.style.transform="scale(1.02)",setTimeout(()=>{e.style.transform="scale(1)"},200)}document.addEventListener("DOMContentLoaded",()=>{window.terminal=new Terminal})